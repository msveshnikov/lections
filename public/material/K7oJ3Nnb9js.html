<p style="text-align:justify"><span style="font-size:20px">Метод становится виртуальным, если за его объявлением в типе объекта стоит новое зарезервированное слово virtual. Если объявляется метод в родительском типе как virtual, то все методы с аналогичными именами в дочерних типах также должны объявляться виртуальными во избежание ошибки компилятора.</span></p><p style="text-align:justify"><span style="font-size:20px">Ниже приведены объекты из примера платежной ведомости, должным образом виртуализированные:</span></p><p style="text-align:justify"><span style="font-size:20px">tyрe</span></p><p style="text-align:justify"><span style="font-size:20px">PEmрloyee = ^TEmployee;</span></p><p style="text-align:justify"><span style="font-size:20px">TEmployee = object</span></p><p style="text-align:justify"><span style="font-size:20px">Name, Title: string[25];</span></p><p style="text-align:justify"><span style="font-size:20px">Rate: Real;</span></p><p style="text-align:justify"><span style="font-size:20px">constructor Init (AName, ATitle: String; ARate: Real);</span></p><p style="text-align:justify"><span style="font-size:20px">function GetPayAmount: Real; virtual;</span></p><p style="text-align:justify"><span style="font-size:20px">function GetName: String;</span></p><p style="text-align:justify"><span style="font-size:20px">function GetTitle: String;</span></p><p style="text-align:justify"><span style="font-size:20px">function GetRate: Real;</span></p><p style="text-align:justify"><span style="font-size:20px">рrocedure Show; virtual;</span></p><p style="text-align:justify"><span style="font-size:20px">end;</span></p><p style="text-align:justify"><span style="font-size:20px">PHourly = ^THourly;</span></p><p style="text-align:justify"><span style="font-size:20px">THourly = object(TEmployee);</span></p><p style="text-align:justify"><span style="font-size:20px">Time: Integer;</span></p><p style="text-align:justify"><span style="font-size:20px">constructor Init (AName, ATitle: String; ARate: Real;</span></p><p style="text-align:justify"><span style="font-size:20px">Time: Integer);</span></p><p style="text-align:justify"><span style="font-size:20px">function GetPayAmount: Real; virtual;</span></p><p style="text-align:justify"><span style="font-size:20px">function GetTime: Integer;</span></p><p style="text-align:justify"><span style="font-size:20px">end;</span></p><p style="text-align:justify"><span style="font-size:20px">PSalaried = ^TSalaried;</span></p><p style="text-align:justify"><span style="font-size:20px">TSalaried = object(TEmployee);</span></p><p style="text-align:justify"><span style="font-size:20px">function GetPayAmount: Real; virtual;</span></p><p style="text-align:justify"><span style="font-size:20px">end;</span></p><p style="text-align:justify"><span style="font-size:20px">PCommissioned = ^TCommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">TCommissioned = object(Salaried);</span></p><p style="text-align:justify"><span style="font-size:20px">Commission: Real;</span></p><p style="text-align:justify"><span style="font-size:20px">SalesAmount: Real;</span></p><p style="text-align:justify"><span style="font-size:20px">constructor Init (AName, ATitle: String; ARate,</span></p><p style="text-align:justify"><span style="font-size:20px">ACommission, ASalesAmount: Real);</span></p><p style="text-align:justify"><span style="font-size:20px">function GetPayAmount: Real; virtual;</span></p><p style="text-align:justify"><span style="font-size:20px">end;</span></p><div class="fb2-empty-line" style="font-family: Arial; color: rgb(0, 0, 0); text-align: justify; font-size: 18px; height: 10px; line-height: 27px;">&nbsp;</div><p style="text-align:justify"><span style="font-size:20px">Конструктор является специальным типом процедуры, которая выполняет некоторую установочную работу для механизма виртуальных методов. Более того, конструктор должен вызываться перед вызовом любого виртуального метода. Вызов виртуального метода без предварительного вызова конструктора может привести к блокированию системы, а у компилятора нет способа проверить порядок вызова методов.</span></p><p style="text-align:justify"><span style="font-size:20px">Каждый тип объекта, имеющий виртуальные методы, обязан иметь конструктор.</span></p><p style="text-align:justify"><span style="font-size:20px">Конструктор должен вызываться перед вызовом любого другого виртуального метода. Вызов виртуального метода без предыдущего обращения к конструктору может вызвать блокировку системы, и компилятор не сможет проверить порядок, в котором вызываются методы.</span></p>