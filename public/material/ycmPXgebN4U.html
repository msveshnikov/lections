<p style="text-align:justify"><span style="font-size:20px">В группу регистров управления входят четыре регистра: cr0, cr1, cr2, cr3. Эти регистры предназначены для общего управления системой. Регистры управления доступны только программам с уровнем привилегий 0.</span></p><p style="text-align:justify"><span style="font-size:20px">Хотя микропроцессор имеет четыре регистра управления, доступными являются только три из них &ndash; исключается cr1, функции которого пока не определены (он зарезервирован для будущего использования).</span></p><p style="text-align:justify"><span style="font-size:20px">Регистр cr0 содержит системные флаги, управляющие режимами работы микропроцессора и отражающие его состояние глобально, независимо от конкретных выполняющихся задач.</span></p><p style="text-align:justify"><span style="font-size:20px">Назначение системных флагов:</span></p><p style="text-align:justify"><span style="font-size:20px">1)&nbsp;pe (Protect Enable), бит 0 &ndash; разрешение защищенного режима работы. Состояние этого флага показывает, в каком из двух режимов &ndash; реальном (pe = 0) или защищенном (pe = 1)&nbsp;&ndash; работает микропроцессор в данный момент времени;</span></p><p style="text-align:justify"><span style="font-size:20px">2)&nbsp;mp (Math Present), бит 1 &ndash; наличие сопроцессора. Всегда 1;</span></p><p style="text-align:justify"><span style="font-size:20px">3)&nbsp;ts (Task Switched), бит 3 &ndash; переключение задач. Процессор автоматически устанавливает этот бит при переключении на выполнение другой задачи;</span></p><p style="text-align:justify"><span style="font-size:20px">4)&nbsp;am (Alignment Mask), бит 18 &ndash; маска выравнивания.</span></p><p style="text-align:justify"><span style="font-size:20px">Этот бит разрешает (am = 1) или запрещает (am = 0) контроль выравнивания;</span></p><p style="text-align:justify"><span style="font-size:20px">5)&nbsp;cd (Cache Disable), бит 30 &ndash; запрещение кеш-па-мяти.</span></p><p style="text-align:justify"><span style="font-size:20px">С помощью этого бита можно запретить (cd = 1) или разрешить (cd = 0) использование внутренней кеш-памяти (кеш-памяти первого уровня);</span></p><p style="text-align:justify"><span style="font-size:20px">6)&nbsp;pg (PaGing), бит 31 &ndash; разрешение (pg = 1) или запрещение (pg = 0) страничного преобразования.</span></p><p style="text-align:justify"><span style="font-size:20px">Флаг используется при страничной модели организации памяти.</span></p><p style="text-align:justify"><span style="font-size:20px">Регистр cr2 используется при страничной организации оперативной памяти для регистрации ситуации, когда текущая команда обратилась по адресу, содержащемуся в странице памяти, отсутствующей в данный момент времени в памяти.</span></p><p style="text-align:justify"><span style="font-size:20px">В такой ситуации в микропроцессоре возникает исключительная ситуация с номером 14, и линейный 32-битный адрес команды, вызвавшей это исключение, записывается в регистр cr2. Имея эту информацию, обработчик исключения 14 определяет нужную страницу, осуществляет ее подкачку в память и возобновляет нормальную работу программы;</span></p><p style="text-align:justify"><span style="font-size:20px">Регистр cr3 также используется при страничной организации памяти. Это так называемый регистр каталога страниц первого уровня. Он содержит 20-битный физический базовый адрес каталога страниц текущей задачи. Этот каталог содержит 1024 32-битных дескриптора, каждый из которых содержит адрес таблицы страниц второго уровня. В свою очередь, каждая из таблиц страниц второго уровня содержит 1024 32-битных дескриптора, адресующих страничные кадры в памяти. Размер страничного кадра &ndash; 4 Кбайта.</span></p>