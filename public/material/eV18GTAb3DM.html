<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p><span>Сегментация является частью более общего механизма, связанного с концепцией модульного программирования. Она предполагает унификацию оформления объектных модулей, создаваемых компилятором, в том числе с разных языков программирования. Это позволяет объединять программы, написанные на разных языках. Именно для реализации различных вариантов такого объединения и предназначены операнды в директиве SEGMENT.</span></p>
<p><span>Рассмотрим их подробнее.</span></p>
<p><span>1. Атрибут выравнивания сегмента (тип выравнивания) сообщает компоновщику о том, что нужно обеспечить размещение начала сегмента на заданной границе:</span></p>
<p><span>1) BYTE – выравнивание не выполняется;</span></p>
<p><span>2) WORD – сегмент начинается по адресу, кратному двум, т. е. последний (младший) значащий бит физического адреса равен 0 (выравнивание на границу слова);</span></p>
<p><span>3) DWORD – сегмент начинается по адресу, кратному четырем;</span></p>
<p><span>4) PARA – сегмент начинается по адресу, кратному 16;</span></p>
<p><span>5) PAGE – сегмент начинается по адресу, кратному 256;</span></p>
<p><span>6) MEMPAGE – сегмент начинается по адресу, кратному 4 Кбайт.</span></p>
<p><span>2. Атрибут комбинирования сегментов (комбинаторный тип) сообщает компоновщику, как нужно комбинировать сегменты различных модулей, имеющие одно и то же имя:</span></p>
<p><span>1) PRIVATE – сегмент не будет объединяться с другими сегментами с тем же именем вне данного модуля;</span></p>
<p><span>2) PUBLIC – заставляет компоновщик соединить все сегменты с одинаковыми именами;</span></p>
<p><span>3) COMMON – располагает все сегменты с одним и тем же именем по одному адресу;</span></p>
<p><span>4) AT xxxx – располагает сегмент по абсолютному адресу параграфа;</span></p>
<p><span>5) STACK – определение сегмента стека.</span></p>
<p><span>3. Атрибут класса сегмента (тип класса) – это заключенная в кавычки строка, помогающая компоновщику определить соответствующий порядок следования сегментов при собирании программы из сегментов нескольких модулей.</span></p>
<p><span>4. Атрибут размера сегмента:</span></p>
<p><span>1) USE16 – это означает, что сегмент допускает 16-разрядную адресацию;</span></p>
<p><span>2) USE32 – сегмент будет 32-разрядным. Необходимо как-то компенсировать невозможность</span></p>
<p><span>напрямую управлять размещением и комбинированием сегментов. Для этого стали использовать директиву указания модели памяти MODEL. Эта директива связывает сегменты, которые в случае использования упрощенных директив сегментации имеют предопределенные имена, с сегментными регистрами (хотя явно инициализировать ds все равно придется).</span></p>
<p><span>Обязательным параметром директивы MODEL является модель памяти. Этот параметр определяет модель сегментации памяти для программного модуля. Предполагается, что программный модуль может иметь только определенные типы сегментов, которые определяются упомянутыми нами ранее упрощенными директивами описания сегментов.</span></p>
</body></html>
