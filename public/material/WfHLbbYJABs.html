<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p><span>Машинная команда представляет собой закодированное по определенным правилам указание микропроцессору на выполнение некоторой операции или действия. Каждая команда содержит элементы, определяющие:</span></p>
<p><span>1) что делать?</span></p>
<p><span>2) объекты, над которыми нужно что-то делать (эти элементы называются операндами);</span></p>
<p><span>3) как делать?</span></p>
<p><span>Максимальная длина машинной команды – 15 байт.</span></p>
<p><span>1. Префиксы.</span></p>
<p><span>Необязательные элементы машинной команды, каждый из которых состоит из 1 байта или может отсутствовать. В памяти префиксы предшествуют команде. Назначение префиксов – модифицировать операцию, выполняемую командой. Прикладная программа может использовать следующие типы префиксов:</span></p>
<p><span>1) префикс замены сегмента;</span></p>
<p><span>2) префикс разрядности адреса уточняет разрядность адреса (32– или 16-разрядный);</span></p>
<p><span>3) префикс разрядности операнда аналогичен префиксу разрядности адреса, но указывает на разрядность операндов (32– или 16-разрядные), с которыми работает команда;</span></p>
<p><span>4) префикс повторения используется с цепочечными командами.</span></p>
<p><span>2. Код операции.</span></p>
<p><span>Обязательный элемент, описывающий операцию, выполняемую командой.</span></p>
<p><span>3. Байт режима адресации modr/m.</span></p>
<p><span>Значения этого байта определяет используемую форму адреса операндов. Операнды могут находиться в памяти в одном или двух регистрах. Если операнд находится в памяти, то байт modr/m определяет компоненты (смещение, базовый и индексный регистры),</span></p>
<p><span>используемые для вычисления его эффективного адреса. Байт modr/m состоит из трех полей:</span></p>
<p><span>1) поле mod определяет количество байт, занимаемых в команде адресом операнда;</span></p>
<p><span>2) поле reg/коп определяет либо регистр, находящийся в команде на месте первого операнда, либо возможное расширение кода операции;</span></p>
<p><span>3) поле r/m используется совместно с полем mod и определяет либо регистр, находящийся в команде на месте первого операнда (если mod = 11), либо используемые для вычисления эффективного адреса (совместно с полем смещение в команде) базовые и индексные регистры.</span></p>
<p><span>4. Байт масштаб – индекс – база (байт sib). Используется для расширения возможностей адресации операндов. Байт sib состоит из трех полей:</span></p>
<p><span>1) поля масштаба ss. В этом поле размещается масштабный множитель для индексного компонента index, занимающего следующие 3 бита байта sib;</span></p>
<p><span>2) поля index. Используется для хранения номера индексного регистра, который применяется для вычисления эффективного адреса операнда;</span></p>
<p><span>3) поля base. Используется для хранения номера базового регистра, который также применяется для вычисления эффективного адреса операнда.</span></p>
<p><span>5. Поле смещения в команде.</span></p>
<p><span>8-, 16– или 32-разрядное целое число со знаком, представляющее собой, полностью или частично (с учетом вышеприведенных рассуждений), значение эффективного адреса операнда.</span></p>
<p><span>6. Поле непосредственного операнда. Необязательное поле, представляющее собой 8-,</span></p>
<p><span>16– или 32-разрядный непосредственный операнд. Наличие этого поля, конечно, отражается на значении байта modr/m.</span></p>
</body></html>
