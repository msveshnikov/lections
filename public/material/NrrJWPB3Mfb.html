<p style="text-align:justify"><span style="font-size:20px">Наследование до некоторой степени изменяет правила совместимости типов в Borland Pascal. Потомок наследует совместимость типов всех своих предков.</span></p><p style="text-align:justify"><span style="font-size:20px">Эта расширенная совместимость типов принимает три формы:</span></p><p style="text-align:justify"><span style="font-size:20px">1)&nbsp;между реализациями объектов;</span></p><p style="text-align:justify"><span style="font-size:20px">2)&nbsp;между указателями на реализации объектов;</span></p><p style="text-align:justify"><span style="font-size:20px">3)&nbsp;между формальными и фактическими параметрами. Совместимость типов расширяется только от потомка к родителю.</span></p><p style="text-align:justify"><span style="font-size:20px">Например, TSalaried является потомком TEmployee, а TCommissioned &ndash; потомком TSalaried. Рассмотрим следующие описания:</span></p><p style="text-align:justify"><span style="font-size:20px">var</span></p><p style="text-align:justify"><span style="font-size:20px">AnEmрloyee: TEmployee;</span></p><p style="text-align:justify"><span style="font-size:20px">ASalaried: TSalaried;</span></p><p style="text-align:justify"><span style="font-size:20px">PCommissioned: TCommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">TEmployeePtr: ^TEmployee;</span></p><p style="text-align:justify"><span style="font-size:20px">TSalariedPtr: ^TSalaried;</span></p><p style="text-align:justify"><span style="font-size:20px">TCommissionedPtr: ^TCommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">При данных описаниях справедливы следующие операторы присваивания:</span></p><p style="text-align:justify"><span style="font-size:20px">AnEmрloyee:=ASalaried;</span></p><p style="text-align:justify"><span style="font-size:20px">ASalaried:= ACommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">TCommissionedPtr:= ACommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">В общем случае правило совместимости типов формулируется так: источник должен быть в состоянии полностью заполнить приемник. Порожденные типы содержат все, что содержат их порождающие типы благодаря свойству наследования. Поэтому порожденный тип имеет размер не меньший размера родителя. Присвоение порождающего объекта порожденному могло бы оставить некоторые поля порожденного объекта неопределенными, что опасно и поэтому недопустимо.</span></p><p style="text-align:justify"><span style="font-size:20px">В операторах присваивания из источника в приемник будут копироваться только поля, являющиеся общими для обоих типов. В операторе присваивания:</span></p><p style="text-align:justify"><span style="font-size:20px">AnEmрloyee:= ACommissioned;</span></p><p style="text-align:justify"><span style="font-size:20px">Только поля Name, Title и Rate из ACommissionedбудут скопированы в AnEmployee, так как только эти поля являются общими для TCommissioned и TEmployee. Совместимость типов работает также между указателями на типы объектов и подчиняется тем же общим правилам, что и для реализаций объектов. Указатель на потомка может быть присвоен указателю на родителя. Если дать предыдущие определения, то следующие присваивания указателей будут допустимыми:</span></p><p style="text-align:justify"><span style="font-size:20px">TSalariedPtr:= TCommissionedPtr;</span></p><p style="text-align:justify"><span style="font-size:20px">TEmployeePtr:= TSalariedPtr;</span></p><p style="text-align:justify"><span style="font-size:20px">TEmployeePtr:= PCommissionedPtr;</span></p><p style="text-align:justify"><span style="font-size:20px">Формальный параметр (либо значение, либо параметр-переменная) данного объектного типа может принимать в качестве фактического параметра объект своего же типа или объекты всех дочерних типов. Если определить заголовок процедуры следующим образом:</span></p><p style="text-align:justify"><span style="font-size:20px">procedure CalcFedTax(Victim: TSalaried);</span></p><p style="text-align:justify"><span style="font-size:20px">то допустимыми типами фактических параметров могут быть TSalaried или TCommissioned, но не тип TEmployee. Victim также может быть параметром-переменной. При этом выполняются те же правила совместимости.</span></p><p style="text-align:justify"><span style="font-size:20px">Параметр-значение является указателем на действительный, посылаемый в качестве параметра объект, а параметр-переменная является копией фактического параметра. Эта копия включает только те поля, которые входят в тип формального параметра-значения. Это означает, что фактический параметр преобразуется к типу формального параметра.</span></p>